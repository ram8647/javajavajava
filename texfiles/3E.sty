\makeatletter   %  BEGIN @ = letter¥¥¥¥¥%
%
%%\paperwidth 48pc         %  non serve?%
%%\paperheight 60pc        %  non serve?%
\voffset -3pc            %  il programma mette 1in standard da carta a inizio testo%¥¥¥era -6pc al primo round
\hoffset -3pc            %  il programma mette 1in standard da carta a inizio testo%¥¥¥era -6pc al primo round
\evensidemargin 16.7pc   %  margine pagine pari (gutter+marginparwidth+marginparsep=18pc)%16.5pc
\oddsidemargin 4.5pc     %  margine pagine dispari (gutter)4.5pc%
\marginparwidth 12.5pc   %  giustezza del testo a margine%
\marginparsep 1pc        %  giustezza del testo a margine%
\headsep 12pt            %  separa RH da testo%
%%\topmargin -36pt         %  spazio fra carta a RH 27pt%
\topmargin -12pt         %  spazio fra carta a RH 27pt%
\headheight 70pt         %  altezza della RH 7pt%
\textheight 51pc         %  altezza del testo%
\textwidth 27pc          %  giustezza del testo%
\parindent 1pc           %  capoverso
\setlength{\parskip}{0pt} % spazio tra paragrafi%

%
%
\predisplaypenalty=0           %  Divide righino da formula
\hyphenpenalty=100             %  -------- parametri sillabazione%
\doublehyphendemerits=1000     %  -------- parametri sillab. (hypen consecutivi)%
\finalhyphendemerits=100000    %  -------- parametri sillabazione, ultimo hyphen del paragrafo%
%\brokenpenalty=2000           %  hyphen alla fine della pagina, cambiando impaginato%








\widowpenalty=200000           %  vedove%
\clubpenalty=200000            %  Evita le vedove giu'
\tolerance=5000
\hbadness=5000
\binoppenalty=10000
\relpenalty=8000
\setlength{\jot}{6pt}%.........................................Distanza tra equazioni consecutive in un eqnarray[*]
\setlength{\abovedisplayskip}{6.0pt plus 6pt minus 2pt}%.....Spazio sopra un'equazione 'lunga'
\setlength{\belowdisplayskip}{6.0pt plus 6pt minus 2pt}%.....Spazio sotto un'equazione 'lunga'
\setlength{\abovedisplayshortskip}{4.0pt plus 4pt minus 2pt}%..Spazio sopra un'equazione 'corta'
\setlength{\belowdisplayshortskip}{4.0pt plus 4pt minus 2pt}%..Spazio sotto un'equazione 'corta'
\setlength{\arraycolsep}{6pt}%.................................Meta' spazio tra le colonne di un array e tra i tab di un'\eqnarray

\usepackage{alltt}%
%%\usepackage{verbatim}%
%%\usepackage{verbMorelli}%
\usepackage{mathptm}   % ¥¥¥¥¥¥ math times ¥¥¥¥¥¥¥%
\usepackage{palatino}  % ¥¥¥¥¥¥ testo palatino%
\usepackage{array}%
\usepackage{graphicx}%
\usepackage{makeidx}%

\usepackage{color}%
\usepackage{epsfig}%
\usepackage{multicol}%   RAM: commented out
\multicolsep = 0pt plus2pt minus0pt% spazio verticale ai multicols  %%RAM commented out
\columnsep = 18pt% spazio fra colonne

\definecolor{white}{cmyk}{0.0, 0.0, 0.0, 0.0}%
\definecolor{cyan}{cmyk}{1.0, 0.0, 0.0, 0.0}%
\definecolor{cyanten}{cmyk}{0.1, 0.0, 0.0, 0.0}%
\definecolor{cyantwenty}{cmyk}{0.2, 0.0, 0.0, 0.0}%

\usepackage[absolute]{textpos}%
  \setlength{\TPHorizModule}{1pc}%
  \setlength{\TPVertModule}{1pc}%
  \textblockorigin{1in}{1in}% start everything near the top-left corner


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FONTS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\fontCDT{\fontsize{7.5}\selectfont} %%%%%%%%%%% LucidaSansTypewriter at 7.5pt%sta nel pacchetto verbMorelli
\def\fontCDTsmall{\fontsize{7.25}\selectfont} %%%%%%%%%%% LucidaSansTypewriter at 7.25pt%per casi di riduzione orizzontale del testo
\def\fontCDTsmallsmall{\fontsize{7}\selectfont} %%%%%%%%%%% LucidaSansTypewriter at 7pt%per casi di riduzione orizzontale del testo
\def\fontCDTsmallsmallsmall{\fontsize{6.5}\selectfont} %%%%%%%%%%% LucidaSansTypewriter at 6.5pt%per casi di riduzione orizzontale del testo

\def\fontCOBH{\fontsize{12}\selectfont}   %%%%%%%%\font\fontCOBH = FuturaÉCondensedBold at 12pt%
\def\fontCOLN{\fontsize{11}\selectfont}   %%%%%%     \font\fontCOLN = PalatinoB at 11pt%
\def\fontBOXfive{\fontsize{15}\selectfont} %%%%%%%%%%% BauhausÉDemi at 15pt%
\def\fontboxoneh{\fontsize{10}\selectfont} %%%%%%%%%%% BauhausMedium at 10pt%

\def\fontUNTBCH{\fontsize{9}\selectfont} %%%%%%%%%%% PalatinoI at 9pt%
\def\fontTBCDT{\fontsize{7.5}\selectfont} %%%%%%%%%%% LucidaSansTypewriter at 7.5pt%
\def\fontTBCH{\fontsize{9}\selectfont} %%%%%%%%%%% PalatinoB at 9pt%

\usepackage{calc}
\def\fontTITLE{\fontsize{24}\selectfont}

\def\fontSMH{\fontsize{13}\selectfont} %%%%%%%%%%% BauhausÉDemi at 13pt%
\def\fontKTH{\fontsize{11}\selectfont} %%%%%%%%%%% PalatinoB at 11pt%
\def\fontEXRN{\fontsize{9}\selectfont}    %%%%%%\font\fontEXRN = PalatinoB at 9pt%
\def\fontCDT{\fontsize{7.5}\selectfont} %%%%%%%%%%% LucidaSansTypewriter at 7.5pt%¥¥¥sta nel pacchetto verbMorelli¥¥¥
\def\fontCDTsmall{\fontsize{7.25}\selectfont} %%%%%%%%%%% LucidaSansTypewriter at 7.25pt%per casi di riduzione orizzontale del testo
\def\fontCDTsmallsmall{\fontsize{7}\selectfont} %%%%%%%%%%% LucidaSansTypewriter at 7pt%per casi di riduzione orizzontale del testo
\def\fontCDTsmallsmallsmall{\fontsize{6.5}\selectfont} %%%%%%%%%%% LucidaSansTypewriter at 6.5pt%per casi di riduzione orizzontale del testo
\def\fontBXsixBTH{\fontsize{18}\selectfont} %%%%%%%%%%% BauhausMedium at 18pt%
\def\ttHtwo{\fontsize{9}\selectfont} %%%%%%%%%%% LucidaSansTypewriter at 9pt%


%%%%%%%%%%%%%%%%%%%%%%%%%%% DEFINITIONS %%%%%%%%%%%%%%%%%%%%%%%%%%%%

%
\def\RHright#1{\markright{%
    {{\color{cyan}
%%%%RAM\fontRHch 
SECTION\ \thesection\hspace*{5pt}$\bullet$\hspace*{5pt}}}%
    {\color{black}
%%%RAM    \fontRHsec 
    #1}}}%
%
\def\RHrightsec#1#2{\markright{%
    {{\color{cyan}
%%%RAM\fontRHch 
SECTION\ #1\hspace*{5pt}$\bullet$\hspace*{5pt}}}%
    {\color{black}
%%%RAM\fontRHsec 
#2}}}%
%
\def\captionmargin#1{\par\vspace{0pt}\protect\raggedright{\color{cyan}\rule[12pt]{12.5pc}{0.5pt}\hspace*{-12.5pc}%
    \addtocounter{figure}{1}\bf\small FIGURE \thefigure}%
    \quad\color{black}\raggedright\small#1}
%
%%%RAM\def\figa#1#2{%
%%%RAM    \protect\begin{minipage}[t]{27pc}%
%%%RAM%%RAM    \protect\vfill\centering\psfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:#1}%
%%%RAM    \protect\vfill\centering\psfig{file=../#1}%
%%%RAM    \end{minipage}\hspace*{1pc}%
%%%RAM    \begin{minipage}[t]{12.5pc}%
%%%RAM    \protect\vspace{-8pt}\caption{#2}%
%%%RAM    \end{minipage}\hspace*{-13.5pc}%
%%%RAM    }%

\def\figascaled#1#2#3{%
    \protect\begin{minipage}[t]{27pc}%
    \protect\vfill\centering\psfig{file=../#1,scale=#2}%
    \end{minipage}\hspace*{1pc}%
    \begin{minipage}[t]{12.5pc}%
    \protect\vspace{-8pt}\caption{#3}%
    \end{minipage}\hspace*{-13.5pc}%
    }%

\def\figaleft#1#2{%
    \hspace*{-13.5pc}\parbox[t]{12.5pc}{%
    \protect\vspace{-8pt}\caption{#2}%
    }\hspace*{1pc}%
    \protect\parbox[t]{27pc}{%
    \protect\vfill\centering\psfig{file=../#1}%
    }%
  }%
%

\def\figaleftscaled#1#2#3{%
    \hspace*{-13.5pc}\parbox[t]{12.5pc}{%
    \protect\vspace{-8pt}\caption{#3}%
    }\hspace*{1pc}%
    \protect\parbox[t]{27pc}{%
    \protect\vfill\centering\psfig{file=../#1,scale=#2}%
    }%
  }%
%

%figure 27 prog caption 12.5
\def\figaproga#1{\small\baselineskip11pt\begin{minipage}[t]{27pc}%
    \vspace*{3pt}{\color{cyanten}\rule{27pc}{#1}}\vspace*{-#1}\par\vspace*{-6pt}%
    {\color{cyan}\rule[4.5pt]{27pc}{0.5pt}}\small\par\hspace*{6pt}\begin{minipage}{26pc}%
    \protect}
%
%
%caption 12.5 for figure prog
\def\figaprogb#1{\end{minipage}\par{\color{cyanten}\rule[-1pt]{27pc}{1.5pt}}\par\vspace*{-11pt}%
    {\color{cyan}\rule[-1.5pt]{27pc}{0.5pt}}%
    \end{minipage}\hspace*{1pc}%
    \begin{minipage}[t]{12.5pc}\protect\vspace{-7pt}\caption{#1}\end{minipage}\hspace*{-13.5pc}}%
%
%caption 12.5 for figure prog left
\def\figaprogbleft#1{\end{minipage}\par{\color{cyanten}\rule[-1pt]{27pc}{1.5pt}}\par\vspace*{-11pt}%
    {\color{cyan}\rule[-1.5pt]{27pc}{0.5pt}}%
    \end{minipage}\hspace*{-40.5pc}%
    \begin{minipage}[t]{12.5pc}\protect\vspace{-7pt}\caption{#1}\end{minipage}}%
%
%figure 27 prog caption bottom 12.5 (no spec)
\def\figaproganospec#1{\small\baselineskip11pt\begin{minipage}[b]{27pc}%
    \vspace*{3pt}{\color{cyanten}\rule{27pc}{#1}}\vspace*{-#1}\par\vspace*{-6pt}%
    {\color{cyan}\rule[4.5pt]{27pc}{0.5pt}}\small\par\hspace*{6pt}\begin{minipage}{26pc}%
    \protect}
%
%caption 12.5 for figure prog caption bottom no spec left
\def\figaprogbleftnospec#1{\end{minipage}\par{\color{cyanten}\rule[-1pt]{27pc}{1.5pt}}\par\vspace*{-11pt}%
    {\color{cyan}\rule[-1.5pt]{27pc}{0.5pt}}%
    \end{minipage}\hspace*{-41pc}%
    \begin{minipage}[b]{12.5pc}\protect\vspace{-7pt}\caption{#1}\end{minipage}}%
%
%figure 40.5 prog caption 27 after left
\def\figbprogaleft#1{\small\baselineskip11pt\hspace*{-13.5pc}\begin{minipage}[t]{40.5pc}%
    \vspace*{3pt}{\color{cyanten}\rule{40.5pc}{#1}}\par\vspace*{-#1}\vspace*{-6pt}%
    {\color{cyan}\rule[4.5pt]{40.5pc}{0.5pt}}\small\par%
    \hspace*{6pt}\begin{minipage}{39.5pc}%
    \protect}
%
\def\figbleftstrict#1#2{\noindent%
    \protect\hspace*{-13.5pc}\begin{minipage}[t]{40.5pc}%
%%    \protect\hfill\psfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:#1}%
    \protect\hfill\psfig{file=../#1}%
    \end{minipage}\par\vspace{-8pt}\begin{minipage}[t]{27pc}%
    \protect\caption{#2}%
    \end{minipage}%
    }%
%
%margin fig che si possono muovere verticalmente
\def\marginfigvspace#1#2#3{\protect\marginpar{\vspace*{#1}\addtocounter{figure}{1}\protect\begin{center}%
%%    \psfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:#2}\end{center}%
    \psfig{file=../#2}\end{center}%
    \par\vspace{0pt}\protect\raggedright{\color{cyan}\rule[12pt]{12.5pc}{0.5pt}\hspace*{-12.5pc}%
    \bf\small FIGURE \thefigure}%
    \quad\color{black}\raggedright\small#3}}%
%
%caption 27 after left
\def\figbprogbleft#1{\end{minipage}\par{\color{cyanten}\rule[-2pt]{40.5pc}{3pt}}\par\vspace*{-11pt}%
    {\color{cyan}\rule[-1.5pt]{40.5pc}{0.5pt}}%
    \end{minipage}\par%
    \begin{minipage}[t]{27pc}\protect\caption{#1}\end{minipage}}%
%
%
%figure 40.5 prog caption 27 after
\def\figbproga#1{\small\baselineskip11pt\begin{minipage}[t]{40.5pc}%
    \vspace*{3pt}{\color{cyanten}\rule{40.5pc}{#1}}\par\vspace*{-#1}\vspace*{-6pt}%
    {\color{cyan}\rule[4.5pt]{40.5pc}{0.5pt}}\small\par%
    \hspace*{6pt}\begin{minipage}{39.5pc}%
    \protect}
%
%caption 27 after
\def\figbprogb#1{\end{minipage}\par{\color{cyanten}\rule[-2pt]{40.5pc}{3pt}}\par\vspace*{-11pt}%
    {\color{cyan}\rule[-1.5pt]{40.5pc}{0.5pt}}%
    \end{minipage}\par%
    \begin{minipage}[t]{27pc}\protect\caption{#1}\end{minipage}}%
%
%
%figure 35 prog caption 27 after left
\def\figbprogalefttwo#1{\small\baselineskip11pt\hspace*{-8pc}\begin{minipage}[t]{35pc}%
    \vspace*{3pt}{\color{cyanten}\rule{35pc}{#1}}\par\vspace*{-#1}\vspace*{-6pt}%
    {\color{cyan}\rule[4.5pt]{35pc}{0.5pt}}\small\par%
    \hspace*{6pt}\begin{minipage}{34pc}%
    \protect}
%
%
%caption 27 after left
\def\figbprogblefttwo#1{\end{minipage}\par{\color{cyanten}\rule[-2pt]{35pc}{3pt}}\par\vspace*{-11pt}%
    {\color{cyan}\rule[-1.5pt]{35pc}{0.5pt}}%
    \end{minipage}\par%
    \begin{minipage}[t]{27pc}\protect\caption{#1}\end{minipage}}%
%
%
%
%figure 35 prog caption 27 after
\def\figbprogatwo#1{\small\baselineskip11pt\begin{minipage}[t]{35pc}%
    \vspace*{3pt}
    {\color{cyanten}\rule{35pc}{#1}}
    \par\vspace*{-#1}\vspace*{-6pt}%
    {\color{cyan}\rule[4.5pt]{35pc}{0.5pt}}
    \small\par%
    \hspace*{6pt}\begin{minipage}{34.5pc}%
    \protect}
%
%caption 27 after
\def\figbprogbtwo#1{\end{minipage}\par{\color{cyanten}\rule[-2pt]{35pc}{3pt}}\par\vspace*{-11pt}%
    {\color{cyan}\rule[-1.5pt]{35pc}{0.5pt}}%
    \end{minipage}\par%
    \begin{minipage}[t]{27pc}\protect\caption{#1}\end{minipage}}%
%
%
%caption 35pc after
\def\figbprogbtwolong#1{\end{minipage}\par{\color{cyanten}\rule[-2pt]{35pc}{3pt}}\par\vspace*{-11pt}%
    {\color{cyan}\rule[-1.5pt]{35pc}{0.5pt}}%
    \end{minipage}\par%
    \begin{minipage}[t]{35pc}\protect\caption{#1}\end{minipage}}%

%margin fig
\def\marginfig#1#2{\protect\marginpar{\addtocounter{figure}{1}\protect\begin{center}%
%%\psfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:#1}
\psfig{file=../#1}
\end{center}%
    \par\vspace{0pt}\protect\raggedright{
      \color{cyan}
\rule[12pt]{12.5pc}{0.5pt}\hspace*{-12.5pc}%
    \bf\small FIGURE \thefigure}%
    \quad
%%%%\color{black}
\raggedright\small#2}}%

\def\marginfigscaled#1#2#3{\protect\marginpar{\addtocounter{figure}{1}\protect\begin{center}%
%%\psfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:#1}
\psfig{file=../#1,scale=#2}
\end{center}%
    \par\vspace{0pt}\protect\raggedright{
      \color{cyan}
\rule[12pt]{12.5pc}{0.5pt}\hspace*{-12.5pc}%
    \bf\small FIGURE \thefigure}%
    \quad
%%%%\color{black}
\raggedright\small#3}}%


%margin fig piu' spazio sotto all'art
\def\marginfiglarge#1#2{\protect\marginpar{\addtocounter{figure}{1}\protect\begin{center}%
%%    \psfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:#1}\end{center}%
    \psfig{file=../#1}\end{center}%
    \par\vspace{6pt}\protect\raggedright{\color{cyan}\rule[12pt]{12.5pc}{0.5pt}\hspace*{-12.5pc}%
    \bf\small FIGURE \thefigure}%
    \quad\color{black}\raggedright\small#2}}%

\def\marginnote#1{\marginpar{\it\vspace*{-7.4pt}#1}}%
\def\splarge{\fontdimen2\font=1.3\fontdimen2\font}%----------allarga
\def\spstrict{\fontdimen2\font=0.7\fontdimen2\font}%---------stringe
\def\spnormalstr{\fontdimen2\font=1.429\fontdimen2\font}%----torna a posto dal restringimento
\def\spnormallar{\fontdimen2\font=0.7693\fontdimen2\font}%---torna a posto dall'allargamento

\def\TBT#1#2{\small\baselineskip11pt\addtocounter{table}{1}%
    {\hspace*{#1}
 %%% \color{cyan}
\bf TABLE\ \thetable}%
    \hspace*{9pt}#2\hfill\\[-4pt]}%
\def\TBCH#1{\fontTBCH#1}%
\def\TBCDT#1{\fontTBCDT#1}%
\def\endTB{\vspace{-3pt}\normalsize\baselineskip12pt}%
%
%TBT 40.5pc
\def\TBTvar#1#2{\small\baselineskip11pt\addtocounter{table}{1}\begin{minipage}{40.5pc}%
    {\hspace*{#1}\color{cyan}\bf TABLE\ \thetable}%
    \hspace*{9pt}#2\hfill\\[-13pt]\end{minipage}}%
%

\def\UNTB{\small\baselineskip11pt}%
\def\UNTBCH#1{\fontUNTBCH\color{cyan}#1}%
\def\endUNTB{\normalsize\baselineskip12pt}%

\def\WWW{\marginpar{\vspace*{4pt}%
  \psfig{file=../commonart/www_dg.eps}
\hfill}}%
\def\WWWleft{\marginpar{\vspace*{4pt}%
    \hfill
 \psfig{file=../commonart/www_dg.eps}
}}%

\def\WWWjava{\marginpar{\vspace*{7pt}%
    \hspace*{-4pt}\psfig{file=../commonart/www_dg.eps}\\[-30pt]%
    \scriptsize\hspace*{45pt}\underline{java.sun.com/j2se/1.5.0/docs/api/}}}

%-------- CO -----------
\def\CObegin{
    \begin{textblock}{1}(4.5,25)%
%%    \begin{textblock}{1}(4.5,20)%
%%    \begin{minipage}{27pc}\raggedright%
    \begin{minipage}{40pc}\raggedright%
    }%
%
\def\COend{\end{minipage}%
    \end{textblock}%
    \begin{textblock}{1}(0,-0.75)%
%%%    \psfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:CommonArt:COright.eps}%
    \end{textblock}%
    \begin{textblock}{1}(-3,-3)%
%%%   \psfig{file=../commonart/morelli.eps}
    \end{textblock}%
    \parindent=1pc%
    \normalsize\baselineskip=12pt\clearpage%
    }%

\def\BOXDT#1{%
  \par\vspace{9pt plus7pt minus4pt}\noindent\fboxrule=0.5pt%
  \fboxsep=6pt\fbox{\parbox{26pc}{#1}%
  }\par\vspace{12pt plus8pt minus4pt}}%
%


\newenvironment{BOXone}[2]{%
   \par\vspace{7pt plus7pt minus4pt}%
   \noindent\hspace*{27.7pc}\psfig{file=../commonart/bx1_dg.eps}%
   \par\vspace{-31pt}%
   \noindent{\color{cyantwenty}\rule[-5pt]{27pc}{#1}}%
   \par\nopagebreak\vspace{-#1}\noindent%
   \hspace*{6pt}\begin{minipage}[t]{26pc}%
   {
%%%RAM     \fontboxoneh
\color{cyan}EFFECTIVE\,\,DESIGN:\,\,#2}\hspace*{10pt}%
   }%
   {%
   \end{minipage}\vspace{15pt plus10pt minus4pt}%
   }%
%
%
%
\newenvironment{BOXoneleft}[2]{%
   \par\vspace{7pt plus7pt minus4pt}%
   \noindent\hspace*{-3.7pc}\psfig{file=../commonart/bx1_dg.eps}%
   \par\vspace{-31pt}%
   \noindent{\color{cyantwenty}\rule[-5pt]{27pc}{#1}}%
   \par\nopagebreak\vspace{-#1}\noindent%
   \hspace*{6pt}\begin{minipage}[t]{26pc}%
   {
%%%RAM\fontboxoneh
\color{cyan}EFFECTIVE\,\,DESIGN:\,\,#2}\hspace*{10pt}%
   }%
   {%
   \end{minipage}\vspace{15pt plus10pt minus4pt}%
   }%

\def\BOXtwo#1#2{%
  \par\vspace{7pt plus7pt minus4pt}%
  \noindent\fboxrule=0.5pt%
  \fboxsep=6pt%
%%  \hspace*{27.9pc}\psfig{file=../commonart/bx2_dg.eps}\par\vspace{-32pt}%  %%RAM Replace bx2 with bx1
  \hspace*{27.9pc}\psfig{file=../commonart/bx1_dg.eps}\par\vspace{-32pt}%
  \noindent\fbox{\parbox{26pc}{\vspace{-6pt}%
  \hspace*{-6pt}{\color{cyan}\rule[-3pt]{10.8pc}{15pt}}\par%
  \vspace{-12pt}%
  {
%%%RAM\fontboxtwoh
\color{white}JAVA\,\,LANGUAGE\,\,RULE}\hspace*{10pt}%
  {
%%%RAM\fontboxtwoh
\color{cyan}#1}\hspace*{5pt}#2}%
  }\par\vspace{12pt plus10pt minus4pt}}%
%

\def\BOXtwovar#1#2#3{% ho lasciato marginpar
  \par\vspace{7pt plus7pt minus4pt}%
  \marginpar{\vspace*{-2pt}%
%%  \psfig{file=../commonart/bx2_dg.eps}\hfill}%
  \psfig{file=../commonart/bx1_dg.eps}\hfill}%      %%% RAM Replace bx2 with bx1
  \noindent\hspace*{#1}\fboxrule=0.5pt%
  \fboxsep=6pt\fbox{\parbox{26pc}{\vspace{-6pt}%
  \hspace*{-6pt}{\color{cyan}\rule[-3pt]{8.8pc}{15pt}}\par%
  \vspace{-12pt}%
  {
%%%RAM\fontboxtwoh
\color{white}JAVA\,\,LANGUAGE\,\,RULE}\hspace*{10pt}%
  {
%%%RAM\fontboxtwoh
\color{cyan}#2}\hspace*{5pt}#3}%
  }\par\vspace{12pt plus10pt minus4pt}}%
%

\def\BOXtwoleft#1#2{%
  \par\vspace{7pt plus7pt minus4pt}%
  \noindent\fboxrule=0.5pt%
  \fboxsep=6pt%
%%  \hspace*{-3.7pc}\psfig{file=../commonart/bx2_dg.eps}\par\vspace{-32pt}%   %%% RAM replace bx2 with bx1
  \hspace*{-3.7pc}\psfig{file=../commonart/bx1_dg.eps}\par\vspace{-32pt}%
  \noindent\fbox{\parbox{26pc}{\vspace{-6pt}%
%%  \hspace*{-6pt}{\color{cyan}\rule[-3pt]{8.8pc}{15pt}}\par%
  \hspace*{-6pt}{\color{cyan}\rule[-3pt]{10.8pc}{15pt}}\par%
  \vspace{-12pt}%
  {
%%%RAM\fontboxtwoh
\color{white}JAVA\,\,LANGUAGE\,\,RULE}\hspace*{10pt}%
  {
%%%RAM\fontboxtwoh
\color{cyan}#1}\hspace*{5pt}#2}%
  }\par\vspace{12pt plus10pt minus4pt}}%
%

\newenvironment{BOXthree}[2]{%
   \par\vspace{9pt plus7pt minus4pt}%
%%   \noindent\hspace*{27.7pc}\psfig{file=../commonart/bx3_dg.eps}%
   \noindent\hspace*{27.7pc}\psfig{file=../commonart/bx1_dg.eps}%  %%%RAM Replace bx3 with bx1
   \par\vspace{-35pt}%
   \noindent{\color{cyantwenty}\rule[-5pt]{27pc}{#1}}%
   \par\nopagebreak\vspace{-#1}\noindent%
   \hspace*{6pt}\begin{minipage}[t]{26pc}%
   {
%%%RAM\fontboxoneh
\color{cyan}DEBUGGING\,\,TIP:\,\,#2}\hspace*{5pt}%
   }%
   {%
   \end{minipage}\vspace{15pt plus10pt minus4pt}%
   }%
%
%
%
\newenvironment{BOXthreeleft}[2]{%
   \par\vspace{9pt plus7pt minus4pt}%
%%%   \noindent\hspace*{-3.7pc}\psfig{file=../commonart/bx3_dg.eps}%
   \noindent\hspace*{-3.7pc}\psfig{file=../commonart/bx1_dg.eps}% %%%RAM REplace bx3 with bx1
   \par\vspace{-35pt}%
   \noindent{\color{cyantwenty}\rule[-5pt]{27pc}{#1}}%
   \par\nopagebreak\vspace{-#1}\noindent%
   \hspace*{6pt}\begin{minipage}[t]{26pc}%
   {
%%%RAM\fontboxoneh
\color{cyan}DEBUGGING\,\,TIP:\,\,#2}\hspace*{5pt}%
   }%
   {%
   \end{minipage}\vspace{15pt plus10pt minus4pt}%
   }%
%
%box 3 no marginfig
\newenvironment{BOXthreenospec}[2]{%
   \par\vspace{9pt plus7pt minus4pt}%
   \noindent{\color{cyantwenty}\rule[-5pt]{27pc}{#1}}%
   \par\nopagebreak\vspace{-#1}\noindent%
   \hspace*{6pt}\begin{minipage}[t]{26pc}%
   {
%%%RAM\fontboxoneh
\color{cyan}DEBUGGING\,\,TIP:\,\,#2}\hspace*{5pt}%
   }%
   {%
   \end{minipage}\vspace{15pt plus10pt minus4pt}%
   }%
%
%
%
%
\newenvironment{BOXthreenospecleft}[2]{%
   \par\vspace{9pt plus7pt minus4pt}%
   \noindent{\color{cyantwenty}\rule[-5pt]{27pc}{#1}}%
   \par\nopagebreak\vspace{-#1}\noindent%
   \hspace*{6pt}\begin{minipage}[t]{26pc}%
   {\fontboxoneh\color{cyan}DEBUGGING\,\,TIP:\,\,#2}\hspace*{5pt}%
   }%
   {%
   \end{minipage}\vspace{15pt plus10pt minus4pt}%
   }%
%

\def\BOXfive#1#2#3#4{%
  {\color{cyan}\rule[0pt]{40.5pc}{2pt}}\\[-1pt]%
%%  \epsfig{file=../commonart/BX5_TextureAcyan.eps,%
%%%RAM  \epsfig{file=../commonart/bx5text1.eps,%
%%%RAM            height=1pc,width=40.5pc,clip=}\\[12pt]%
  \parbox{40.5pc}{%
  \hspace*{28pc}%
  \parbox[t]{11.5pc}{%
%%%RAM  \fontBOXfive%\baselineskip17pt%non funziona
  #1\\%
  {\color{cyan}\rule[0pt]{11.5pc}{1pt}}\\[12pt]%
%%  \epsfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:#2}\\[3pt]\it\small\raggedright#3%
  \epsfig{file=#2}\\[3pt]\it\small\raggedright#3%
  }\hspace*{-38.5pc}%
  \parbox[t]{26pc}{#4%
  }}}%
%

\def\tBOXseven#1{\noindent{
%%%RAM\textBOXseven
\color{cyan}\uppercase{#1}}}%


\def\BOXfiveleft#1#2#3#4{%
  \hspace*{-13.5pc}%
  {
%%RAM  
  \color{cyan}
  \rule[0pt]{40.5pc}{2pt}}\\[-1pt]%
  \hspace*{-13.5pc}%
%%RAM  \epsfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:CommonArt:BX5_TextureAcyan.eps,%
%%RAM            height=1pc,width=40.5pc,clip=}
\\[12pt]%
  \hspace*{-13.5pc}%
  \parbox{40.5pc}{%
  \hspace*{1pc}%
  \parbox[t]{11.5pc}{%
%%%RAM  \fontBOXfive%\baselineskip17pt%¥¥¥non funziona
  #1\\%
  {
%%RAM \color{cyan}
  \rule[0pt]{11.5pc}{1pt}}\\[12pt]%
%%RAM  \epsfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:#2}
\\[3pt]\it\small\raggedright#3%
  }\hspace*{1pc}%
  \parbox[t]{26pc}{#4%
  }}}%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% COMMANDS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%
\newcommand{\secBXsixBTH}[1]{\vspace{12pt plus7pt minus4pt}%
    \noindent{\color{cyan}\rule[0pt]{44.45pc}{2pt}}\par\vspace*{14pt}%
    \marginpar{%
    \vspace*{0pt}\hspace*{6pt}\begin{minipage}{12pc}\color{cyan}\raggedright%
%%%RAM    \fontBXsixBT
\baselineskip20pt #1\end{minipage}}%
    \markright{%
    {
%%%RAM\fontRHch
{\color{cyan}CHAPTER \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}}}%
%%%RAM    \fontRHsec 
Java Language Summary}%
    }%

%
\newcommand{\secHfourleft}[1]{\vspace{12pt plus7pt minus4pt}\noindent{%
    \color{cyan}%
    \marginpar{\vspace*{-16pt}\hfill\epsfig{file=../commonart/bx1_dg.eps}}%
    \baselineskip=16pt
%%%RAM\fontHfour
#1}\par%
    \markright{%
    {
%%%RAM\fontRHch
{\color{cyan}CHAPTER \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}}}%
%%%RAM    \fontRHsec 
Object-Oriented Design}%
    \vspace{3pt plus3pt minus1pt}}%
%

\newcommand{\secBXsixHtwo}[1]{\vspace{11pt plus7pt minus4pt}\noindent{%
    \color{cyan}%
%%%RAM    \fontBXsixHtwo
#1}\par%
    \vspace{3pt plus3pt minus1pt}}%

\newcommand{\secHfour}[1]{\vspace{12pt plus7pt minus4pt}\noindent{%
    \color{cyan}%
    \marginpar{\vspace*{-16pt}
%%%RAM\epsfig{file=../commonart/H4DG.eps}
}%
    \baselineskip=16pt
%%%RAM\fontHfour
#1}\par%
    \markright{%
    {
%%%RAM\fontRHch
{\color{cyan}CHAPTER \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}}}%
%%%RAM    \fontRHsec 
Object-Oriented Design}%
    \vspace{3pt plus3pt minus1pt}}%
%

\newcommand{\secCSFHleft}[1]{\vspace{12pt plus7pt minus4pt}\noindent{%
    \color{cyan}%
    \addtocounter{section}{1}\setcounter{subsection}{0}
%%%RAM\hone
\thesection\hspace*{10pt}
%%%%RAM\fontCSFH
#1}\markright{%
    {{\color{cyan}
%%%RAM\fontRHch 
SECTION\ \thesection\hspace*{5pt}$\bullet$\hspace*{5pt}}}%
%%%RAM    \fontRHsec 
Case Study}\marginpar{\vspace*{-11pt}%
    \hfill
%%%RAM\psfig{file=../commonart/CSDG.eps}
}
\par%
    \nopagebreak\vspace{3pt plus3pt minus1pt}}%
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% \secEXRHtwo END OF CHAPTER EXERCISES, LHS and RHS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\secEXRHtwo}[1]{
   \vspace{12pt plus11pt minus6pt}\par\noindent%
   {
     \color{cyan}\rule[0pt]{40.5pc}{0.5pt}}\par\vspace{-4pt}%
     \noindent\epsfig{file=../commonart/eoc2text.eps,%
            height=4pt,width=40.5pc,clip=}\par\vspace{14pt}%
     \marginpar{
       { \color{cyan}\raggedright
         %%%RAM\fontEXRHtwo
        \large\uppercase{#1}
       }
     }
     \small\baselineskip11pt
     \markright{
       %%%RAM\fontRHch
       {
         \color{cyan}CHAPTER \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}
       }
       %%%RAM    \fontRHsec 
    #1}%
} %% secEXRHtwo

\newcommand{\secEXRHtwoleft}[1]{
    \vspace{12pt plus11pt minus6pt}\par%
    \noindent\hspace*{-13.5pc}{\color{cyan}\rule[0pt]{40.5pc}{0.5pt}}\par\vspace{-4pt}%
    \noindent\hspace*{-13.5pc}%
    \epsfig{file=../commonart/eoc2text.eps,%
            height=4pt,width=40.5pc,clip=}\par\vspace{14pt}%
    \marginpar{
      { \color{cyan}\raggedright
        %%%RAM\fontEXRHtwo
        \large\uppercase{#1}
      }
    }
    \small\baselineskip11pt
    \markright{
      %%%RAM\fontRHch
      {
         \color{cyan}CHAPTER \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}
      }
      %%%RAM    \fontRHsec 
      #1}
} %% secEXRHtwoleft
%
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% \secANSH SOLUTIONS To SELF-STUDY EXERCISES, RHS and LHS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\secANSH}{
  \vspace{12pt plus11pt minus6pt}\par\noindent%
  {
    \color{cyan}\rule[0pt]{40.5pc}{0.5pt}}\par\vspace{-4pt}%
    \noindent\epsfig{file=../commonart/eoc2text.eps,%
            height=4pt,width=40.5pc,clip=}\par\vspace{14pt}%
    \marginpar{
      \raggedright%
      { \color{cyan}\raggedright
        %%%RAM\fontEXRHtwo
        \large\uppercase{Solutions to \\[2pt]Self-Study Exercises}
      }%
    }%
    \small\baselineskip11pt
    \markright{
    {
      %%%RAM\fontRHch
        \color{cyan}CHAPTER \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}
    }
    %%%RAM    \fontRHsec 
   Solutions to Self-Study Exercises}%
} %% \secANSH
%
%
\newcommand{\secANSHleft}{
    \vspace{12pt plus11pt minus6pt}\par
    \hspace*{-14.5pc}{\color{cyan}\rule[0pt]{40.5pc}{0.5pt}}\par\vspace{-4pt}%
    \hspace*{-14.5pc}\epsfig{file=../commonart/eoc2text.eps,%
            height=4pt,width=40.5pc,clip=}\par\vspace{14pt}%
    \marginpar{
      { 
         \color{cyan}\raggedright
         %%%RAM\fontEXRHtwo
         \large\uppercase{Solutions to \\[2pt]Self-Study Exercises}
      }
    }
    \small\baselineskip11pt
    \markright{%
      %%%RAM\fontRHch
      {
        \color{cyan}CHAPTER \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}
      }
      %%%RAM    \fontRHsec 
      Solutions to Self-Study Exercises
    }%
} %% \secANSHleft
%

\newcommand{\secKTH}[1]{\noindent{%
    \color{cyan}%
    %%%RAM    \fontKTH 
    \large#1}\par%
    \nopagebreak\vspace{3pt plus3pt minus1pt}}%
%

\newcommand{\secLREXRH}[1]{\vspace{12pt plus7pt minus4pt}\noindent{%
    {\color{cyan}
%%%RAM\fontLREXRH
\uppercase{#1}}}\par%
    \nopagebreak\vspace{3pt plus3pt minus1pt}}%
%

\def\endpracticedesign{\par\noindent{\color{cyan}\rule[0pt]{27pc}{0.5pt}}\par\vspace{12pt plus7pt minus3pt}}

\newcommand{\secHsix}[1]{\vspace{12pt plus7pt minus4pt}\noindent{%
%%%RAM    \fontHsix
#1}\par%
    \nopagebreak\vspace{3pt plus3pt minus1pt}}%
%

\newcommand{\secHfive}[2]{\vspace{24pt plus9pt minus4pt}\noindent{%
    \rule[16pt]{27pc}{0.5pt}\hspace*{-27pc}\color{cyan}%
%%%RAM    \fontHfive
\baselineskip=16pt\raggedright IN THE LABORATORY: #1}\par%
    \vspace{3pt plus3pt minus1pt}%
    \markright{%
    {
%%%RAM\fontRHch
{\color{cyan}CHAPTER \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}}}%
%%%RAM    \fontRHsec 
Hands-On Learning: #2}
    }%
%
%
\newcommand{\secBXsixHone}[1]{\vspace{12pt plus7pt minus4pt}\noindent{%
    \color{cyan}%
%%%RAM    \fontBXsixHone
#1}\par%
    \nopagebreak\vspace{3pt plus3pt minus1pt}}%
%

\newcommand{\secBXsixBTHleft}[1]{\vspace{12pt plus7pt minus4pt}%
    \noindent\hspace*{-17.45pc}{\color{cyan}\rule[0pt]{44.45pc}{2pt}}\par\vspace*{10pt}%
    \marginpar{%
    \vspace*{0pt}\color{cyan}\raggedright
%%%RAM\fontBXsixBTH
\baselineskip20pt #1}%
    \markright{%
    {
%%%RAM\fontRHch
{\color{cyan}CHAPTER \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}}}%
%%%RAM   \fontRHsec 
Java Language Summary}%
    }%
%
\newcommand{\secBXsevenHone}[1]{\vspace{12pt plus7pt minus4pt}\noindent{%
%%%RAM    \fontBXsevenHone
#1}\par%
    \vspace{3pt plus3pt minus1pt}}%
%
%
\newcommand{\secCOBH}[1]
{\vspace{12pt plus9pt minus4pt}\noindent
%%
{\color{cyan}%
%%    {\fontCOBH
\large\uppercase{#1}}
%%    \fontCOBH\uppercase
    \par\normalsize\baselineskip12pt%
    \vspace{6pt plus5pt minus2pt}}%
%
\newcommand{\secCOLH}[1]
{\vspace{12pt plus9pt minus4pt}\noindent
%%
{%
    \color{cyan}%
%%    {\fontCOBH
\large\uppercase{#1}}
%%    \fontCOBH\uppercase
    \par%
    \vspace{6pt plus5pt minus2pt}}%
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% \secSMH  CHAPTER SUMMARY SECTION, LHS and RHS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\secSMH}[1]{
   \vspace{12pt plus11pt minus6pt}\par\noindent%
   {\color{cyan}\rule[0pt]{40.5pc}{1pt}}\par\vspace{-4pt}
   \noindent\epsfig{file=../commonart/eoc2text.eps,%
         height=4pt,width=40.5pc,clip=}\par\vspace{14pt}%
   \par\vspace{10pt}
   \marginpar{
     \vspace*{2pt}%
     {
       \color{cyan}
       \raggedright
       %%%%\fontSMH
       \vspace*{3pt}\large\uppercase{#1}
     }
   }
   \markright{
     {
       \color{cyan}
       %%%\fontRHch 
       CHAPTER\ \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}
     }
     %%%    \fontRHsec 
     Chapter Summary
   }
} %% secSMH
%
\newcommand{\secSMHleft}[1]{
   \vspace{12pt plus11pt minus6pt}\par
   \hspace*{-14.5pc}{\color{cyan}\rule[0pt]{40.5pc}{0.5pt}}\par\vspace{-4pt}%
   \hspace*{-14.5pc}\epsfig{file=../commonart/eoc2text.eps,%
            height=4pt,width=40.5pc,clip=}\par\vspace{14pt}%
   \par\vspace{10pt}
   \marginpar{
       \color{cyan}
        \raggedright
        %%%RAM\fontSMH
        \vspace*{3pt}\large\uppercase{#1}
    }
    \markright{%
      {
         \color{cyan}
         %%%RAM\fontRHch 
         CHAPTER\ \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}
      }
      %%%RAM    \fontRHsec 
      Chapter Summary
    }
} %% secSMHleft


\newcommand{\secSMHtwo}[1]{\vspace{11pt plus10pt minus6pt}\noindent{%
    \color{cyan}%
    %%%RAM    \fontKTH 
    \large#1}\par%
    \nopagebreak\vspace{3pt plus3pt minus1pt}}%
%
\newcommand{\secEXRHone}[1]{\vspace{12pt plus9pt minus4pt}\noindent{%
   \color{cyan}%
%%    \fontEXRHone
\large\uppercase{#1}}\par%
    \nopagebreak\vspace{3pt plus3pt minus1pt}}


%%%%%%%%%%%%%%%%% ENVIRONMENTS %%%%%%%%%%%%%%%%%%%%%%

\newenvironment{ANSBL}{\begin{list}%
   {{$\bullet$\hfill}}{%
   \itemsep=0pt%
   \topsep=0pt%
   \itemindent=0pt%
   \leftmargin=1pc%
   \labelwidth=0.4pc%
   \labelsep=0.6pc%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%
\newcounter{EXRLLcount}%
\newenvironment{EXRLL}{\begin{list}%
   {\alph{EXRLLcount}.\hfill}{\usecounter{EXRLLcount}%
   \itemsep=0pt%
   \topsep=3pt plus3pt minus1pt%
   \itemindent=0pt%
   \leftmargin=12pt%
   \labelwidth=10pt%
   \labelsep=2pt%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%

\newenvironment{javalibrary}[1]%
    {\vspace{24pt plus12pt minus6pt}\par%
    \marginpar{\raggedright\baselineskip22pt
%%%RAM\fontBXsevenBTH
{\color{cyan}From\\ the Java Library}\\[5pt]%
    \baselineskip16pt
%%%RAM\fontBXsevenBST
#1}%
    \markright{%
    {
%%%RAM\fontRHch
{\color{cyan}CHAPTER \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}}}%
%%%RAM    \fontRHsec 
From the Java Library}%
    }%
%
    {\vspace{24pt plus12pt minus6pt}}%
%
\newenvironment{KT}%
   {\noindent\begin{multicols}{3}\raggedright\parindent=0pc\everypar{\hangindent=1pc}%
   }%
   {\end{multicols}}%

\newenvironment{extract}%
   {\vspace{6pt plus6pt minus2pt}\begin{minipage}{26pc}}{\end{minipage}\vspace{6pt plus6pt minus2pt}}%

\newenvironment{CDT}[1]{%
  \par
\vspace{5pt plus5pt minus2pt}
\noindent{
    \color{cyanten}
    \rule[0pt]{27pc}{#1}
  }%
 \par\nopagebreak
 \vspace{-#1}
 \noindent%
 \hspace*{6pt}\begin{minipage}[t]{26pc}\raggedright
%%%    \fontCDT
    \baselineskip=11pt%
}%
 {%
  \end{minipage}\noindent\vspace{10pt plus8pt minus2pt}%
 }%

\newenvironment{CDTlong}[2]{%
  \par
\vspace{5pt plus5pt minus2pt}
\noindent{
    \color{cyanten}
    \rule[0pt]{#2}{#1}
  }%
 \par\nopagebreak
 \vspace{-#1}
 \noindent%
 \hspace*{6pt}\begin{minipage}[t]{#2}\raggedright
%%%    \fontCDT
    \baselineskip=11pt%
}%
 {%
  \end{minipage}\noindent\vspace{10pt plus8pt minus2pt}%
 }%


\newenvironment{CDTleft}[1]{%
  \par
\vspace{5pt plus5pt minus2pt}
\noindent{
    \hspace*{-10pc}
    \color{cyanten}
    \rule[0pt]{40pc}{#1}
  }%
 \par\nopagebreak
 \vspace{-#1}
 \noindent%
 \hspace*{-10pc}
\begin{minipage}[t]{26pc}\raggedright
%%%    \fontCDT
    \baselineskip=11pt%
}%
 {%
  \end{minipage}\noindent\vspace{10pt plus8pt minus2pt}%
 }%

\newenvironment{CDTleftwide}[2]{%
  \par
\vspace{5pt plus5pt minus2pt}
\noindent{
    \hspace*{-10pc}
    \color{cyanten}
    \rule[0pt]{#2}{#1}
  }%
 \par\nopagebreak
 \vspace{-#1}
 \noindent%
 \hspace*{-10pc}
\begin{minipage}[t]{#2}\raggedright
%%%    \fontCDT
    \baselineskip=11pt%
}%
 {%
  \end{minipage}\noindent\vspace{10pt plus8pt minus2pt}%
 }%

%
%per CDT nel box 5
\newenvironment{CDTfive}[1]{%
   \par\vspace{5pt plus5pt minus2pt}\noindent{\color{cyanten}\rule[0pt]{26pc}{#1}}%
   \par\nopagebreak\vspace{-#1}\noindent%
   \hspace*{6pt}\begin{minipage}[t]{25pc}\raggedright
%%%RAM\fontCDT
\baselineskip=11pt%
   }%
   {%
   \end{minipage}\noindent\vspace{10pt plus8pt minus2pt}%
   }%
%


\newenvironment{COBL}{\begin{list}%
   {
%%   \color{cyan}
   {$\bullet$\hfill}}{%
   \itemsep=3pt plus3pt minus1pt%
   \topsep=6pt plus4pt minus2pt%
   \itemindent=0pt%
   \leftmargin=1pc%
   \labelwidth=0.4pc%
   \labelsep=0.6pc%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%
\newcounter{COLcount}%
\newenvironment{COL}{\begin{list}%
   {
%%   \color{cyan}
%%%%   {\fontCOLN
   \arabic{chapter}.\arabic{COLcount}\hfill}
%%%%   }
   {\usecounter{COLcount}%
   \itemsep=3pt plus3pt minus1pt%
   \topsep=0pt%
   \itemindent=0pt%
   \leftmargin=2.5pc%
   \labelwidth=2pc%
   \labelsep=0.5pc%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%

\newenvironment{BL}{\begin{list}%
   {$\bullet$\hfill}{%
   \itemsep=0pt%
   \topsep=6pt plus6pt minus2pt%
   \itemindent=0pt%
   \leftmargin=1pc%
   \labelwidth=0.4pc%
   %\labelsep=0.6pc%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%

\newenvironment{SMBL}{\begin{list}%
   {
%%%%\color{cyan}
{$\bullet$\hfill}}{%
   \itemsep=0pt%
   \topsep=0pt%
   \itemindent=0pt%
   \leftmargin=1pc%
   \labelwidth=0.4pc%
   \labelsep=0.6pc%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%
\newenvironment{SMBLlarge}{\begin{list}%
   {
%%%%\color{cyan}
{$\bullet$\hfill}}{%
   \itemsep=4pt plus4pt minus1pt%
   \topsep=0pt%
   \itemindent=0pt%
   \leftmargin=1pc%
   \labelwidth=0.4pc%
   \labelsep=0.6pc%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%

\newenvironment{SMBSE}{\begin{list}%
   {
%%%%\color{cyan}
{$\bullet$\hfill}}{%
   \itemsep=0pt%
   \topsep=0pt%
   \itemindent=0pt%
   \leftmargin=1pc%
   \labelwidth=0.4pc%
   \labelsep=0.6pc%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%
%
\newcounter{EXRcount}%
\newenvironment{EXR}{\begin{list}%
   {
%%%RAM\fontEXRN 
EXERCISE\,\,\thechapter.\arabic{EXRcount}}{\usecounter{EXRcount}%
   \itemsep=6pt plus6pt minus3pt%
   \topsep=0pt%
   \itemindent=0pt%
   \leftmargin=0pt%
   \labelwidth=-10pt%
   \labelsep=10pt%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%
\newcounter{EXRtwocount}%
\newenvironment{EXRtwo}{\begin{list}%
   {{
\color{cyan} %%%%%%%%\fontEXRN
EXERCISE\,\,\thechapter.\arabic{EXRtwocount}}}{\usecounter{EXRtwocount}%
   \itemsep=6pt plus6pt minus3pt%
   \topsep=0pt%
   \itemindent=0pt%
   \leftmargin=0pt%
   \labelwidth=-10pt%
   \labelsep=10pt%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%

\newcounter{EXRtwoLLcount}%
\newenvironment{EXRtwoLL}{\begin{list}%
   {\alph{EXRtwoLLcount}.\hfill}{\usecounter{EXRtwoLLcount}%
   \itemsep=0pt%
   \topsep=3pt plus4pt minus1pt%
   \itemindent=0pt%
   \leftmargin=12pt%
   \labelwidth=10pt%
   \labelsep=2pt%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%
\newenvironment{BOXfourleft}[2]{%
   \par\vspace{9pt plus7pt minus4pt}%
   \noindent\hspace*{-3.9pc}
%%%   \psfig{file=../commonart/bx4_dg.eps}%
   \psfig{file=../commonart/bx1_dg.eps}%  %%%RAM Replace bx4 with bx1
   \par\vspace{-34pt}%
   \noindent{\color{cyantwenty}\rule[-5pt]{27pc}{#1}}%
   \par\nopagebreak\vspace{-#1}\noindent%
   \hspace*{6pt}\begin{minipage}[t]{26pc}%
   {
%%%RAM\fontboxoneh
\color{cyan}PROGRAMMING\,\,TIP:\,\,#2}\hspace*{10pt}%
   }%
   {%
   \end{minipage}\vspace{15pt plus10pt minus4pt}%
   }%

\newenvironment{BSE}{\begin{list}%
   {$\bullet$\hfill}{%
   \itemsep=0pt%
   \topsep=0pt%
   \itemindent=0pt%
   \leftmargin=1pc%
   \labelwidth=0.4pc%
   %\labelsep=0.6pc%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%
\newcounter{BLNLcount}%
\newenvironment{BLNL}{\begin{list}%
   {\arabic{BLNLcount}.\hfill}{\usecounter{BLNLcount}%
   \itemsep=0pt%
   \topsep=0pt%
   \itemindent=0pt%
   \leftmargin=15pt%
   \labelwidth=9pt%
   %\labelsep=0pc%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%
\newcounter{NLcount}%
\newenvironment{NL}{\begin{list}%
   {\arabic{NLcount}.\hfill}{\usecounter{NLcount}%
   \itemsep=0pt%
   \topsep=6pt plus6pt minus2pt%
   \itemindent=0pt%
   \leftmargin=15pt%
   \labelwidth=9pt%
   %\labelsep=0pc%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%

\newenvironment{BOXfour}[2]{%
   \par\vspace{9pt plus7pt minus4pt}%
   \noindent\hspace*{27.7pc}
%%%\psfig{file=../commonart/bx4_dg.eps}%
\psfig{file=../commonart/bx1_dg.eps}%	%%%RAM replace bx4 with bx1
   \par\vspace{-34pt}%
   \noindent{\color{cyantwenty}\rule[-5pt]{27pc}{#1}}%
   \par\nopagebreak\vspace{-#1}\noindent%
   \hspace*{6pt}\begin{minipage}[t]{26pc}%
   {
%%%RAM\fontboxoneh
\color{cyan}PROGRAMMING\,\,TIP:\,\,#2}\hspace*{10pt}%
   }%
   {%
   \end{minipage}\vspace{15pt plus10pt minus4pt}%
   }%

%per CDT nelle liste rientrati di un pica
\newenvironment{CDTone}[1]{%
   \par\vspace{5pt plus5pt minus2pt}\noindent\hspace*{-12pt}{\color{cyanten}\rule[0pt]{27pc}{#1}}%
   \par\nopagebreak\vspace{-#1}\noindent%
   \hspace*{-6pt}\begin{minipage}[t]{26pc}\raggedright
%%%RAM\fontCDT
\baselineskip=11pt%
   }%
   {%
   \end{minipage}\noindent\vspace{10pt plus8pt minus2pt}%
   }%
%
\newcounter{ANScount}%
\newenvironment{ANS}{\begin{list}%
   {{\color{cyan}
%%%RAM\fontEXRN
SOLUTION\,\,\thechapter.\arabic{ANScount}}}{\usecounter{ANScount}%
   \itemsep=6pt plus6pt minus3pt%
   \topsep=0pt%
   \itemindent=0pt%
   \leftmargin=0pt%
   \labelwidth=-10pt%
   \labelsep=10pt%
   \partopsep=0pt%
   \parskip=0pt%
   \parsep=0pt%
   }}{\end{list}}%
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% APPENDICES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\newcommand\appendixleft[2]{\clearpage%
  \parindent=0pc\thispagestyle{plain}%
\begin{textblock}{1}(-1.75,10.25)%
%%\psfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:CommonArt:Appendix_CO_left.eps}%
\psfig{file=../commonart/appendix.eps}%
\end{textblock}%
\begin{textblock}{1}(16.5,5.25)%
\begin{minipage}{27pc}%
%%\AppNumFont 
APPENDIX{\color{cyan}%%\AppNumFontLL\ 
#1}\\%
{\color{cyan}
%%\AppTitleFont
#2}%
\end{minipage}%
\end{textblock}%
\vspace*{9.25pc}%
\parindent=1pc%
\markboth{{
%%\fontRHch
\color{cyan}APPENDIX\ #1\hspace*{5pt}$\bullet$\hspace*{5pt}}
%%\fontRHsec
#2}%
    {{
%%\fontRHch
\color{cyan}APPENDIX\ #1\hspace*{5pt}$\bullet$\hspace*{5pt}}
%%\fontRHsec 
#2}%
}%
%
%
\newcommand\appendixright[2]{\clearpage%
  \parindent=0pc\thispagestyle{plain}%
\begin{textblock}{1}(32.75,10.25)%
%%\psfig{file=e2kl-D1:PH-e2kl:Morelli:0333700MOREL:CommonArt:Appendix_CO.eps}%
\psfig{file=../commonart/appendix.eps}%
\end{textblock}%
\begin{textblock}{1}(4.5,5.25)%
\begin{minipage}{27pc}%
%%\AppNumFont 
APPENDIX{\color{cyan}
%%\AppNumFontLL\ 
#1}\\%
{\color{cyan}
%%\AppTitleFont
#2}%
\end{minipage}%
\end{textblock}%
\vspace*{9.25pc}%
\parindent=1pc%
\markboth{{
%%\fontRHch
\color{cyan}APPENDIX\ #1\hspace*{5pt}$\bullet$\hspace*{5pt}}
%%%%\fontRHsec
#2}%
    {{
%%\fontRHch
\color{cyan}APPENDIX\ #1\hspace*{5pt}$\bullet$\hspace*{5pt}}
%%\fontRHsec
 #2}%
}%

%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CONVENTIONS for LHS and RHS Headers
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\chaptermark#1{\markboth 
 {{
     \color{cyan}CHAPTER\ \thechapter\hspace*{5pt}$\bullet$\hspace*{5pt}
  }%
     \color{black}#1%
     \ifnum \c@secnumdepth >\m@ne\fi
 }%
 {
    \ifnum \c@secnumdepth = \z@%  
    \@chapapp\ \thechapter\qquad##1\fi}%
}% chaptermark
%
\def\sectionmark#1{\markright 
   {
     \ifnum \c@secnumdepth > \z@
       {
         \color{cyan}SECTION\ \thesection\hspace*{5pt}$\bullet$\hspace*{5pt}
       }
       \color{black}%
     \else\@chapapp\ \thechapter\fi
     #1
   }
}%% \sectionmark
