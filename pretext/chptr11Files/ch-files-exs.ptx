
 <section xml:id="ch-files-exs">
    <title>Exercises</title>
    <exercises>
    <title> File Exercises</title>
 <p>
    <term>Note:</term> For programming exercises,
    <term>first</term> draw a UML class diagram describing all classes and their inheritance relationships and/or associations.
  </p>

<exercise label="jfex_matching_java_definitions">
      <title>Java Concept Matching</title>
      <statement>
	<p>
          Match each of the following 
	  terms.
	</p>
      </statement>
      <matches>
	<match>
	  <order>1</order>
          <premise><em>System.in</em></premise>
          <response>The console InputStream (stdin) </response>
	</match>
	<match>
	  <order>2</order>
          <premise><em>System.out</em></premise>
          <response>A PrintStream (an output stream) to the console (stdout)</response>
	</match>
	<match>
	  <order>3</order>
          <premise><em>file</em></premise>
          <response>a sequence of bits meant to be interpreted as logically connected data</response>
	</match>
	<match>
	  <order>4</order>
          <premise><em>absolute path</em></premise>
          <response>a path that begins at the root directory</response>
	</match>
	<match>
	  <order>5</order>
	  <premise><em>directory</em> </premise>
          <response>a collection of file names</response>
	</match>
	<match>
	  <order>6</order>
          <premise><em>buffering</em> </premise>
          <response>the practice of moving large portions of memory into and out of memory at
	  once to avoice the inefficiency of transferring the data strictly as needed</response>
	</match>
	<match>
	  <order>7</order>
          <premise><em>filtering</em></premise>
          <response>the process or performing some modification of data as it is
	  transfered through a stream.</response>
	</match>
	<match>
	  <order>8</order>
          <premise><c>input stream</c></premise>
          <response>a stream of data from a source to the program</response>
	</match>
	<match>
	  <order>9</order>
          <premise> <c>output stream</c> </premise>
          <response>a stream of data from the program to a destination.</response>
	</match>
	<match>
	  <order>10</order>
          <premise> <c>Binary file</c> </premise>
          <response>a sequence of bits.</response>
	</match>
	<match>
	  <order>11</order>
          <premise> <c>Text file</c> </premise>
          <response>a sequence of bits interpreted as a standard text format such as ASCII
	  or unicode.</response>
	</match>
        <match>
	  <order>13</order>
          <premise> <em>database</em> </premise>
          <response>A collection of related files including their data.</response>
	</match>
	<match>
	  <order>14</order>
          <premise> <em>record </em> </premise>
          <response>a collection of logically related fields.</response>
	</match>
	<match>
	  <order>15</order>
          <premise> <em>field </em> </premise>
          <response>a chunk of data.</response>
	</match>
	<match>
	  <order>16</order>
          <premise><em>relative path</em></premise>
          <response>a path that begins from the current location of the directory tree</response>
	</match>
	
      </matches>
      </exercise>

    <exercisegroup>
    <title>Fill In the blankss</title>
     
    <introduction>
      <p>
        Fill in the blanks.
        </p>
	</introduction>
                     <exercise label="jfex_fill_in_1">       
<title></title>       
 <statement>
            <p>
              Unlike text files,
              binary files do not have a special <var width="15"/> character.
            </p>
          </statement>
	   <setup>
          <var case="insensitive">
            <condition string="EOF|End of File">
              <feedback>
		<p>Correct</p>
              </feedback>
            </condition>
            <condition string=".*">
              <feedback>
		<p>Try again. You may want to review the technical terms from this chapter.</p>
              </feedback>
            </condition>
          </var>
	</setup>
	  </exercise>
                     <exercise label="jfex_fill_in_2">       
<title></title>       
 <statement>

            <p>
              In Java, the <c>String</c> array parameter in the
<c>main()</c> method is used for <var width="30"/> .
            </p>
          </statement>
      <setup>
          <var case="insensitive">
            <condition string="command line arguments">
              <feedback>
		<p>Correct</p>
              </feedback>
            </condition>
            <condition string=".*">
              <feedback>
		<p>Try again. You may want to review the technical terms from this chapter.</p>
              </feedback>
            </condition>
          </var>
	</setup>	

    </exercise>
                     <exercise label="jfex_fill_in_3">       
<title></title>       
 <statement>

            <p>
              <var width="15"/> files are portable and platform independent.
            </p>
          </statement>
      <setup>
          <var case="insensitive">
            <condition string="java binary">
              <feedback>
		<p>Correct</p>
              </feedback>
            </condition>
	   
            <condition string=".*">
              <feedback>
		<p>Try again. You may want to review the technical terms from this chapter.</p>
              </feedback>
            </condition>
          </var>
	</setup>	

    </exercise>
                     <exercise label="jfex_fill_in_4">       
<title></title>       
 <statement>

            <p>
              A <var width="15"/> file created on one computer can't always be read by another computer.
            </p>
          </statement>
      <setup>
          <var case="insensitive">
            <condition string="binary">
              <feedback>
		<p>Correct</p>
              </feedback>
            </condition>
	    
            <condition string=".*">
              <feedback>
		<p>Try again. You may want to review the technical terms from this chapter.</p>
              </feedback>
            </condition>
          </var>
	</setup>	

    </exercise>
        
    </exercisegroup>
               <exercise label="jfex_hierarchy">       
<title>Data Hierarchy</title>       
 <statement>

      <p>
        Arrange the following kinds of data into their correct hierarchical relationships: <c>bit</c>,
<c>field</c>, <c>byte</c>, <c>record</c>, <c>database</c>,
<c>file</c>, <c>String</c>, <c>char</c>.
      </p>
    </statement>
      <response />
    </exercise>
               <exercise label="jfex_data_types">       
<title>Data Types</title>       
 <statement>

      <p>
        In what different ways can the following string of 32 bits be interpreted?
 <program language="java"><input>
00010101111000110100000110011110
 </input></program>
      </p>
    </statement>
      <response />
    </exercise>
               <exercise label="jfex_reading_binary">       
<title>Exception Reading Binary</title>       
 <statement>

      <p>
        When reading a binary file,
        why is it necessary to use an infinite loop that's exited only when an exception occurs?
      </p>
    </statement>
      <response />
    </exercise>
               <exercise label="jfex_lines_in_files">       
<title>Lines In Files</title>       
 <statement>

      <p>
        Is it possible to have a text file with 10 characters and 0 lines?
        Explain.
      </p>
    </statement>
      <response />
    </exercise>
               <exercise label="jfex_reading_loop">       
<title>Reading Loop</title>       
 <statement>

      <p>
        In reading a file,
        why is it necessary to attempt to read from the file before entering the read loop?
      </p>
    </statement>
      <response />
    </exercise>
               <exercise label="jfex_binary_io">       
<title>Binary I/O</title>       
 <statement>

      <p>
        When designing binary I/O, why is it especially important to design the input and output routines together?
      </p>
    </statement>
      <response />
    </exercise>
               <exercise label="jfex_ascii_vs_utf">       
<title>ASCII vs. UTF</title>       
 <statement>

      <p>
        What's the difference between ASCII code and UTF code?
      </p>
    </statement>
      <response />
    </exercise>
               <exercise label="jfex_java_object_binary">       
<title>Binary Java Objects</title>       
 <statement>

      <p>
        Could the following string of bits possibly be a Java object?
        Explain.
 <program language="java"><input>
00010111000111101010101010000111001000100
11010010010101010010101001000001000000111
 </input></program>
      </p>
    </statement>
      <response />
    </exercise>
               <exercise label="jfex_code_word_filter_method">       
<title>Word Filter (grep) Method</title>       
 <statement>

      <p>
        Write a method that could be added to the <c>TextIO</c> program to read a text file and print all lines containing a certain word.
        This should be a <c>void</c> method that takes two parameters: The name of the file and the word to search for.
        Lines not containing the word should not be printed.
      </p>
    </statement>
       <program label="jfex_grep_method_prg" interactive="activecode" language="java"  datafile="HtmlImageUtil.java">
   <input>
public class Program {
    public void wordFilter(String filename, String match) {

    }
    public static void main(String args[]) {
          // HtmlImageUtil.java is available to this program
          String filename = "HtmlImageUtil.java"; 
		    
    }
}
   </input>
       </program>
    </exercise>
               <exercise label="jfex_code_file_statistics">       
<title>File Statistics</title>       
 <statement>

      <p>
        Write a program that reads a text file and reports the number of characters and lines contained in the file.
      </p>
 </statement>
 <program label="jfex_file_stats_prg" interactive="activecode" language="java"  datafile="HtmlImageUtil.java">
   <input>
public class Program {		
    public static void main(String args[]) {
          // HtmlImageUtil.java is available to this program
          String filename = "HtmlImageUtil.java"; 
		    
    }
}


    </input>
 </program>
    </exercise>
               <exercise label="jfex_code_file_word_counter">       
<title>Word Counter</title>       
 <statement>

      <p>
        Modify the program in the previous exercise so that it also counts the number of words in the file.
        <hint>The
<c>StringTokenizer</c> class might be useful for this task.</hint>
      </p>
    </statement>
      <response />
    </exercise>
               <exercise label="jfex_code_student_saver">       
<title>Student Saver</title>       
 <statement>

      <p>
        Modify the <c>ObjectIO</c> program so that it allows the user to designate a file and then input <c>Student</c> data with the help of a GUI. As the user inputs data,
        each record should be written to the file.
      </p>
    </statement>
      <response />
    </exercise>
               <exercise label="jfex_code_sort_ints_file">       
<title>Sort ints File</title>       
 <statement>

      <p>
        Write a program that will read a file of <c>int</c>s into memory,
        sort them in ascending order,
        and output the sorted data to a second file.
      </p>
 </statement>
 <datafile label="short_ints_file" filename="jfex_sort_me.txt"
	   editable="no" hide="yes">
   <pre>
     131
     20
     40
     100
     1
     48
     10000
     79
     200
     21
     3
     9
     101
     35
</pre>
 </datafile>
      <program label="jfex_sort_ascending_prg" interactive="activecode"
	       language="java" datafile="jfex_sort_me.txt">
<input>
	    public class Program {		
	        public static void main(String args[]) {
	            String filename = "jfex_sort_me.txt"; // file to sort
		    
		}
	    }
</input>
</program>    

    </exercise>
               <exercise label="jfex_code_merge_files">       
<title>Sorted Merge Files</title>       
 <statement>

      <p>
        Write a program that will read two files of <c>int</c>s, which are already sorted into ascending order,
        and merge their data.
        For example,
        if one file contains 1, 3, 5, 7, 9, and the other contains 2, 4, 6, 8, 10,
        then the merged file should contain 1, 2, 3, 4, 5, 6, 7, 8, 9, 10.
      </p>
 </statement>
  <datafile label="sorted_ints_file_a" filename="jfex_sorted_a.txt"
	   editable="no" hide="yes">
   <pre>
     3
     7
     11
     12
     14
     18
     33
</pre>
 </datafile>
  <datafile label="sorted_ints_file_b" filename="jfex_sorted_b.txt"
	   editable="no" hide="yes">
   <pre>
     5
     6
     8
     15
     19
     22
     28
     35
</pre>
 </datafile>

      <program label="jfex_file_merge_prg" interactive="activecode"
	       language="java" datafile="jfex_sorted_a.txt jfex_sorted_b.txt">
<input>
	    public class Program {		
	        public static void main(String args[]) {
	            String sortedfile1 = "jfex_sorted_a.txt";
		    String sortedfile2 = "jfex_sorted_b.txt";
		    
		}
	    }
</input>
</program>    

    </exercise>
               <exercise label="jfex_code_read_file_method">       
<title>Read File Method</title>       
 <statement>

      <p>
        Suppose you have a file of data for a geological survey.
        Each record consists of a longitude,
        a latitude, and an amount of rainfall,
        all represented by <c>double</c>s.
        Write a method to read this file's data and print them on the screen,
        one record per line.
        The method should be <c>void</c> and it should take the name of the file as its only parameter.
      </p>
 </statement>
 <datafile label="lat_lon_rain_file" filename="jfex_lat_lon_rain.txt"
	   editable="no" hide="yes">
 <pre>
30.0 75.00  9.4047737
30.0 77.50  0.4994003
30.0 78.75  5.9408302
27.5 72.50  0.3945955
27.5 78.75 23.1913109
25.0 72.50  1.7190878
25.0 75.00  6.0424900
25.0 77.50  0.6005277
25.0 78.75  9.5088654
 </pre>
 </datafile>
      <program label="jfex_lat_lon_prg" interactive="activecode"
	       language="java" datafile="jfex_lat_lon_rain.txt">
	<input>
public class Program {		
    public static void main(String args[]) {
        String filename = "jfex_lat_lon_rain.txt"; // the data file.
    }
}
</input>
</program>    

    </exercise>
               <exercise label="jfex_code_generate_records_to_file">       
<title>Generate Records to File</title>       
 <statement>

      <p>
        Suppose you have the same data as in the previous exercise.
        Write a method that will generate 1,000 records of random data and write them to a file.
        The method should be <c>void</c> and should take the file's name as its parameter.
        Assume that longitudes have values in the range <m>+/-</m> 0 to 180 degrees,
        latitudes have values in the range <m>+/-</m> 0 to 90 degrees,
        and rainfalls have values in the range 0 to 20 inches.
      </p>
    </statement>
      <program label="jfex_gen_record_prg" interactive="activecode"
	       language="java">
<input>
	    public class Program {		
		public static void main(String args[]) {
		    
		}
	    }
</input>
</program>    

    </exercise>
               <exercise label="jfex_code_copy_file_program">       
<title>Safe file Copy</title>       
 <statement>

      <p>
        Design and write a file copy program that will work for either text files or binary files.
        The program should prompt the user for the names of each file and copy the data from the source file into the destination file.
        It should not overwrite an existing file, however.
        <hint>Read and write the file as a file of <c>byte</c>.</hint>
      </p>
    </statement>
      <program label="jfex_copy_file_prg" interactive="activecode"
	       language="java" datafile="jfex_lat_lon_rain.txt">
<input>
	    public class Program {		
		public static void main(String args[]) {
		    String filename = "jfex_lat_lon_rain.txt"; // the data file.
		}
	    }
</input>
</program>    

    </exercise>
               <exercise label="jfex_code_address_class">       
<title>Address Class</title>       
 <statement>

      <p>
        Design a class,
        similar to <c>Student</c>, to represent an
<c>Address</c>. It should consist of street,
        city, state,
        and zip code and should contain its own <c>readFromFile()</c> and
<c>writeToFile()</c> methods.
      </p>
    </statement>
      <program label="jfex_address_prg" interactive="activecode" language="java">
<input>
	    public class Address {		
		public static void main(String args[]) {
		    
		}
	    }
</input>
</program>    

    </exercise>
               <exercise label="jfex_code_student_with_address">       
<title>Student with Address</title>       
 <statement>

      <p>
        Using the class designed in the previous exercise,
        modify the <c>Student</c> class so that it contains an <c>Address</c> field.
        Modify the <c>ObjectIO</c> program to accommodate this new definition of <c>Student</c> and test your program.
      </p>
    </statement>
      <program label="jfex_student_address_prg" interactive="activecode" language="java">
<input>
	    public class Student {		
		public static void main(String args[]) {
		    
		}
	    }
</input>
</program>    

    </exercise>
               <exercise label="jfex_code_directory_listing">       
<title>Directory Listing</title>       
 <statement>

      <p>
        Write a program called <c>Directory</c>, which provides a listing of any directory contained in the current directory.
        This program should prompt the user for the name of the directory.
        It should then print a listing of that directory.
        The listing should contain the following information: The full path name of the directory,
        and then include the file name, length,
        and last modified date, and a read/write code for each file.
        The read/write code should be an <em>r</em>
        if the file is readable and a <em>w</em>
        if the file is writeable, in that order.
        Use a
        <q>-</q>
        to indicate not readable or not writeable.
        For example,
        a file that is readable but not writable will have the code
        <em>r</em>-. Here's an example listing:
 <program language="java"><input>
Listing for directory: myfiles
  name          length modified   code
  index.html    548    129098     rw
  index.gif     78     129190     rw
  me.html       682    128001     r-
  private.txt   1001   129000     --
 </input></program>
    Note that the <c>File.lastModified()</c> returns a <c>long</c>, which gives the modification time of the file.
        This number can't easily be converted into a date, so just report its value.
      </p>
      </statement>
      <program label="jfex_directory_prg" interactive="activecode" language="java">
<input>
	    public class Directory {		
		public static void main(String args[]) {
		    
		}
	    }
</input>
</program>    

    </exercise>
                 <exercise label="jfex_code_save_game">       
<title>Save OneRowNim Game</title>       
 <statement>

      <p>
        Challenge: Modify the <c>OneRowNimGUI</c> class that is listed in Chapter<nbsp/>4's Figure<nbsp/> 4-25 so 
        that the user can save the position of the game to a file or open and read a game position from a file.
        You should add two new <c>JButton</c>s to the GUI interface.
        Use the object serialization example as a model for your input and output streams.
      </p>
      </statement>
      <program label="jfex_save_one_row_prg" interactive="activecode" language="java">
<input>
	    public class OnewRowNimGUI {		
		public static void main(String args[]) {
		    
		}
	    }
</input>
</program>    

    </exercise>
                 <exercise label="jfex_code_grep_program">       
<title>Java Grep Program</title>       
 <statement>

      <p>
        Challenge: In Unix systems,
        there's a program named
<c>grep</c> that can list the lines in a text file containing a certain string.
        Write a Java version of this program that prompts the user for the name of the file and the string to search for.
      </p>
      </statement>
      <program label="jfex_grep_prg" interactive="activecode" language="java">
<input>
	    public class GrepProgram {		
		public static void main(String args[]) {
		    
		}
	    }
</input>
</program>    

    </exercise>
                 <exercise label="jfex_code_copy_file">       
<title>Copy File to file or directory</title>       
 <statement>
      <p>
        Challenge: Write a program in Java named <c>Copy</c> to copy one file into another.
        The program should prompt the user for two file names, <c>filename1</c> and <c>filename2</c>. Both <c>filename1</c> and <c>filename2</c> must exist or the program should throw a <c>FileNotFoundException</c>. Although
<c>filename1</c> must be the name of a file (not a directory),
<c>filename2</c> may be either a file or a directory.
        If <c>filename2</c> is a file, then it must not already exist, and
        then the program should copy <c>filename1</c> to
<c>filename2</c>. If <c>filename2</c> is a directory,
        then the program should make sure that <c>filename1</c> is not in <c>filename2</c> then simply copy <c>filename1</c> into <c>filename2</c>. That is,
        it should create a new file with the name <c>filename1</c> inside the
<c>filename2</c> directory, and
        copy the old file to the new file.
      </p>
    </statement>
      <program label="jfex_copy_more_prg" interactive="activecode" language="java">
<input>
	    public class Copy {		
		public static void main(String args[]) {
		    
		}
	    }
</input>
</program>    

    </exercise>
  </exercises>
</section>
